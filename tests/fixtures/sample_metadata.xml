<Conformance xmlns="http://hl7.org/fhir">
  <identifier value="https://testconnectors.vhscloud.nl/FHIR/Koppeltaal/Conformance/Koppeltaal"/>
  <version value="v1.0"/>
  <name value="Koppeltaal"/>
  <publisher value="Stichting Koppeltaal"/>
  <telecom>
    <system value="url"/>
    <value value="https://ggz.koppeltaal.nl"/>
    <use value="work"/>
  </telecom>
  <telecom>
    <system value="email"/>
    <value value="info@ggz.koppeltaal.nl"/>
    <use value="work"/>
  </telecom>
  <description value="This is the Conformance Statement for Koppeltaal"/>
  <status value="draft"/>
  <experimental value="true"/>
  <date value="2014/10/23 00:00:00"/>
  <software>
    <name value="Koppelbox"/>
    <version value="v1.0"/>
    <releaseDate value=""/>
  </software>
  <implementation>
    <description value="This server is the development environment for VitalHealth Integrator"/>
    <url value="https://testconnectors.vhscloud.nl/FHIR/Koppeltaal"/>
  </implementation>
  <fhirVersion value="0.0.82"/>
  <acceptUnknown value="false"/>
  <format value="Xml"/>
  <format value="Json"/>
  <rest>
    <mode value="server"/>
    <documentation value=""/>
    <security>
      <extension url="http://fhir-registry.smartplatforms.org/Profile/oauth-uris#authorize">
        <valueUri value="https://testconnectors.vhscloud.nl/OAuth2/Koppeltaal/Authorize"/>
      </extension>
      <extension url="http://fhir-registry.smartplatforms.org/Profile/oauth-uris#token">
        <valueUri value="https://testconnectors.vhscloud.nl/OAuth2/Koppeltaal/Token"/>
      </extension>
      <cors value="true"/>
      <service>
        <coding>
          <system value="http://hl7.org/fhir/restful-security-service"/>
          <code value="OAuth2"/>
        </coding>
      </service>
      <service>
        <coding>
          <system value="http://hl7.org/fhir/restful-security-service"/>
          <code value="Basic"/>
        </coding>
      </service>
      <description value="The Koppeltaal FHIR Server supports Basic Authentication as well as OAuth2"/>
    </security>
    <resource>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <type value="Device"/>
      <profile>
        <reference value="https://testconnectors.vhscloud.nl/FHIR/Koppeltaal/Profile/Application"/>
      </profile>
      <operation>
        <code value="read"/>
        <documentation value=""/>
      </operation>
      <operation>
        <code value="search-type"/>
        <documentation value=""/>
      </operation>
      <readHistory value="false"/>
      <updateCreate value="false"/>
    </resource>
    <resource>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <type value="FamilyHistory"/>
      <operation>
        <code value="read"/>
        <documentation value=""/>
      </operation>
      <operation>
        <code value="search-type"/>
        <documentation value=""/>
      </operation>
      <readHistory value="false"/>
      <updateCreate value="false"/>
    </resource>
    <resource>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <type value="MessageHeader"/>
      <profile>
        <reference value="https://testconnectors.vhscloud.nl/FHIR/Koppeltaal/Profile/MessageHeader"/>
      </profile>
      <operation>
        <code value="read"/>
        <documentation value="This way you can get a single MessageHeader, but without the rest of the message Bundle."/>
      </operation>
      <operation>
        <code value="update"/>
        <documentation value="Only ProcessingStatus and Exception attributes can be updated. The ProcessingStatus for a message must be updated after the messages was fetched using query &quot;ClaimAndGetNextNewMessage&quot;."/>
      </operation>
      <operation>
        <code value="search-type"/>
        <documentation value="Returns a list of MessageHeaders matching the users domain and application and specified serach parameyters. When the _id search parameter is specified, the complete message Bundle for a single message is returned."/>
      </operation>
      <readHistory value="false"/>
      <updateCreate value="false"/>
      <searchParam>
        <name value="event"/>
        <definition value=""/>
        <type value="token"/>
        <documentation value="Message type"/>
      </searchParam>
      <searchParam>
        <name value="_id"/>
        <definition value=""/>
        <type value="token"/>
        <documentation value="Causes the search to return the complete bundle for the given message"/>
      </searchParam>
      <searchParam>
        <name value="Patient"/>
        <definition value=""/>
        <type value="reference"/>
        <documentation value="Patient dossier that the message is part of"/>
        <target value="Patient"/>
      </searchParam>
      <searchParam>
        <name value="ProcessingStatus"/>
        <definition value=""/>
        <type value="string"/>
        <documentation value="Processing status of the message (New / Claimed / Success / Failed)"/>
      </searchParam>
    </resource>
    <resource>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <type value="Observation"/>
      <operation>
        <code value="read"/>
        <documentation value=""/>
      </operation>
      <operation>
        <code value="search-type"/>
        <documentation value=""/>
      </operation>
      <readHistory value="false"/>
      <updateCreate value="false"/>
    </resource>
    <resource>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <type value="Other"/>
      <profile>
        <reference value="https://testconnectors.vhscloud.nl/FHIR/Koppeltaal/Profile/ActivityDefinition"/>
      </profile>
      <operation>
        <code value="read"/>
        <documentation value=""/>
      </operation>
      <operation>
        <code value="update"/>
        <documentation value=""/>
      </operation>
      <operation>
        <code value="create"/>
        <documentation value=""/>
      </operation>
      <operation>
        <code value="search-type"/>
        <documentation value=""/>
      </operation>
      <readHistory value="false"/>
      <updateCreate value="false"/>
    </resource>
    <resource>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <type value="Patient"/>
      <profile>
        <reference value="https://testconnectors.vhscloud.nl/FHIR/Koppeltaal/Profile/Patient"/>
      </profile>
      <operation>
        <code value="read"/>
        <documentation value=""/>
      </operation>
      <operation>
        <code value="search-type"/>
        <documentation value=""/>
      </operation>
      <readHistory value="false"/>
      <updateCreate value="false"/>
    </resource>
    <resource>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <type value="Profile"/>
      <operation>
        <code value="read"/>
        <documentation value=""/>
      </operation>
      <operation>
        <code value="update"/>
        <documentation value=""/>
      </operation>
      <operation>
        <code value="create"/>
        <documentation value=""/>
      </operation>
      <operation>
        <code value="search-type"/>
        <documentation value=""/>
      </operation>
      <readHistory value="false"/>
      <updateCreate value="false"/>
    </resource>
    <resource>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRepliesAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <type value="ValueSet"/>
      <operation>
        <code value="read"/>
        <documentation value=""/>
      </operation>
      <operation>
        <code value="search-type"/>
        <documentation value=""/>
      </operation>
      <readHistory value="false"/>
      <updateCreate value="false"/>
    </resource>
    <operation>
      <code value="transaction"/>
      <documentation value="Hello transaction"/>
    </operation>
    <query>
      <name value="MessageHeader.GetNextNewAndClaim"/>
      <definition value=""/>
      <documentation value="Searches for the next matching MessageHeader with ProcessingStatus=New, and sets the ProcessingStatus to Claimed before it returns the complete Bundle for the Message"/>
      <parameter>
        <name value="event"/>
        <definition value=""/>
        <type value="token"/>
        <documentation value="Message type"/>
      </parameter>
      <parameter>
        <name value="Patient"/>
        <definition value=""/>
        <type value="reference"/>
        <documentation value="Patient dossier that the message is part of"/>
        <target value="Patient"/>
      </parameter>
    </query>
  </rest>
  <messaging>
    <endpoint value="https://testconnectors.vhscloud.nl/FHIR/Koppeltaal/Mailbox"/>
    <reliableCache value="2147483647"/>
    <documentation value="Koppeltaal is primarily based on FHIR Messaging, hence this messaging definition is the core  of the specification"/>
    <event>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <code>
        <system value="http://ggz.koppeltaal.nl/fhir/Koppeltaal/MessageEvents"/>
        <code value="CreateOrUpdateCarePlan"/>
      </code>
      <category value="Notification"/>
      <mode value="receiver"/>
      <protocol>
        <system value="http://hl7.org/fhir/message-transport"/>
        <code value="http"/>
      </protocol>
      <focus value="CarePlan"/>
      <request>
        <reference value="https://testconnectors.vhscloud.nl/FHIR/Koppeltaal/Profile/CarePlan"/>
      </request>
      <documentation value="Allows CarePlan owners to share new or modified care plans"/>
    </event>
    <event>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <code>
        <system value="http://ggz.koppeltaal.nl/fhir/Koppeltaal/MessageEvents"/>
        <code value="CreateOrUpdateCarePlanActivityResult"/>
      </code>
      <category value="Notification"/>
      <mode value="receiver"/>
      <protocol>
        <system value="http://hl7.org/fhir/message-transport"/>
        <code value="http"/>
      </protocol>
      <focus value="DiagnosticReport"/>
      <request>
        <reference value="https://testconnectors.vhscloud.nl/FHIR/Koppeltaal/Profile/CarePlanActivityResult"/>
      </request>
      <documentation value=""/>
    </event>
    <event>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <code>
        <system value="http://ggz.koppeltaal.nl/fhir/Koppeltaal/MessageEvents"/>
        <code value="CreateOrUpdateUserMessage"/>
      </code>
      <category value="Notification"/>
      <mode value="receiver"/>
      <protocol>
        <system value="http://hl7.org/fhir/message-transport"/>
        <code value="http"/>
      </protocol>
      <focus value="Other"/>
      <request>
        <reference value="https://testconnectors.vhscloud.nl/FHIR/Koppeltaal/Profile/UserMessage"/>
      </request>
      <documentation value="Send basic message to user, e.g. from Patient to Practitioner to ask for hints or tips when stuck in a game"/>
    </event>
    <event>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstSchema">
        <valueBoolean value="true"/>
      </extension>
      <extension url="http://fhir.vitalhealthsoftware.com/Profile/Conformance#ValidateRequestsAgainstProfile">
        <valueBoolean value="false"/>
      </extension>
      <code>
        <system value="http://ggz.koppeltaal.nl/fhir/Koppeltaal/MessageEvents"/>
        <code value="UpdateCarePlanActivityStatus"/>
      </code>
      <category value="Notification"/>
      <mode value="receiver"/>
      <protocol>
        <system value="http://hl7.org/fhir/message-transport"/>
        <code value="http"/>
      </protocol>
      <focus value="Other"/>
      <request>
        <reference value="https://testconnectors.vhscloud.nl/FHIR/Koppeltaal/Profile/CarePlanActivityStatus"/>
      </request>
      <documentation value="Allows applications that received a CarePlan to communicate back status and progress changes"/>
    </event>
  </messaging>
</Conformance>

